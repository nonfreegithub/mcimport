# mcimport

This mod converts a minecraft world into minetest.

The process is offline. Minecraft should not be running on the world
that is to be converted. The output should be an empty folder, and
no map.sqlite should be present in the empty folder.

The output is a world folder that is playable, permitted that the
required minetest mods are installed. If mods are missing, you will
encounter "Unknown" blocks in the minetest world.

This mcimport fork was created to improve on the existing mcimport
project, with one significant change: This form aims to create
*playable* minetest worlds where stuff works:

- chests can be used to put stuff in
- doors open and close
- simple mesecons circuits may work
- furnaces work

Also, the assumption is that converted maps are for multiplayer
use, and that the most important motivation for using this
converter is to *preserve* previously custom built objects
and buildings, but *not* meant to preserve the gameplay style
and feel of minecraft. As such, there are numerous blocks that
are *not* converted 1:1 from MC to MT. A good example is Lapis
Lazuli. LL ore will be converted to plain stone, and LL blocks
into blue wool, simply because there is no reasonable equivalent
in MT that is an actually useful block and not something created
purely to copy MC. This project also aims to never convert
blocks to "Unknown" nodes and strives to leave a playable are
that is friendly for users performing a one-time conversion.

- some flowers are approximations
- double plants may end up being single node blocks
- wood types are similarly not an exact copy
- until fixed, beds, doors, fences, walls are likely broken
- signs convert, but MT can't rotate them in 30 degree angles

There are a large number of things that are just never going to
be convertable, and so the following will likely never work and
are therefore converted to air blocks. Entities are readily
spawned by several mob mods in minetest, so conversion is likely
not critical to users, and left out.

- crafting table
- hoppers, dispensers, droppers
- entities

# Usage:

You'll need to use a Linux system and have python installed. The
easiest way to invoke the converter is to run the `mcimport.sh`
script without any parameters. This takes you through a bunch of
screens that you can use to select a world and configure a few
settings.



# Extra Notes:

Now allows a choice of conversion to Minetest Game or MineClone2.
Currrently compatible with Minecraft Worlds up to, & including v1.12.2


##### Coordinate Conversion from Minecraft to Minetest:
```
X = Approximately the same in both.
Y = Approximately -64 nodes.
Z = The number is approximately inverted.

Example of converted coordinates:
Minecraft: 704, 4, -318
Minetest: 720, -60, 334
```


##### For previously converted worlds in Minetest v5.x: 
Take note that Minetest v5.x will now spam errors related to the lightfix code in the converted world's "/worldmods/mcimport/init.lua" file.

Example Warning Message:
```
WARNING[Emerge-0]: VoxelManip:set_lighting called for a non-mapgen VoxelManip object
```

It's recommended to comment it out to avoid this issue.
```
-- vm:set_lighting({day = 15, night = 0}, minp, maxp)
```


##### Note:
Line 36 of "mcimport.py" has the gameid for MineClone2.  
```wo.write("gameid = mineclone2\n")```  
Currently set to use the foldername generated by downloading MCL2 from the ContentDB.
If using a version of MCL2 in your gamefolder not named "mineclone2"; you will need to adjust accordingly.


# License:

Copyright (C) 2016 - Nore, dgm555, sofar and others

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE X CONSORTIUM BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

Except as contained in this notice, the name of the authors shall
not be used in advertising or otherwise to promote the sale, use or
other dealings in this Software without prior written authorization
from the authors.

